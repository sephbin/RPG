<!DOCTYPE html>
<meta charset="UTF-8"> 
<html>
<script src="javascripts/jquery-2.2.0.min.js"></script>
<script src="javascripts/jquery-ui.min.js"></script>
<script src="javascripts/jquery.transform.js"></script>
<script src="javascripts/jquery.scombobox.js"></script>
<script type="text/javascript">
	var importList = ['abc'];
			$.each(importList,function(y,z){
			$.ajax({
			  url:"data/"+z+".json",
			  beforeSend: function(xhr){
			    if (xhr.overrideMimeType){xhr.overrideMimeType("application/json");}},
			  type:"GET",
			  dataType:"json",
			  cache:false,
			  error: function(a,b,c){console.log(a+b+c);}
			}).done(function(data){
				console.log("loaded: "+z+".json");
				window[z] = data;
			});
		});
</script>
<link rel="prefetch-dns" href="eorith.html"> 
<head>
<link rel="stylesheet" type="text/css" href="css/jquery.scombobox.css">
<style type="text/css">
	body{
		margin:0px;
		padding:0px;
		background: #FFF;
		background-repeat: no-repeat;
		/*background-position: center;*/
		background-size: cover;
		font-size: 18px;
	    overflow: hidden;
	}
	div.front{
		position: absolute;
		background: #999;
		opacity:0.5;
		top:0px;
		bottom:0px;
		left:0px;
		right:0px;
		padding:50px;
		}
	h1,a{
		margin:0px;
		text-align: center;
	}
	div.background{
		position: absolute;
		top:0px;
		bottom:0px;
		width:100%;
		background-repeat: no-repeat;
	}
	div#parent{
		position: absolute;
		top:0px;
		bottom:0px;
		width:100%;
		background:#F00;
		line-height: 100px;
	}
	div.input{
		position: absolute;
		top: 50%;
		left:50%;
		transform: translate(-50%,-50%);
		width:300px;
		height:50px;
		text-align: center;
		z-index: 5;
	}
	div.white{
		position: absolute;
		top: 0px;
		left:0px;
		bottom: 0px;
		right: 0px;
		background: #fff;
		z-index: 0;
	}
	.scombobox-display{
		text-align: center;
		font-size: 16px;
		border:none;
		border-radius: 0px;
		box-shadow: 0px 0px 20px #000;
	}
	.scombobox-display:focus {
	  	box-shadow: 0px 0px 20px #000;
	    outline: none;
	}
	.scombobox-list {
	    display: none;
	    position: absolute;
	    max-height: 400px;
	    min-width: 100%;
	    max-width: 300%;
	    white-space: nowrap;
	    box-sizing: border-box;
	    -moz-box-sizing: border-box;
	    overflow-y: auto;
	    background: white;
	    border: 1px solid #FFF;
	    border-top: none; /* instead of margin-top: -1px */
	    border-radius: 0px;
	    box-shadow: 0 0 5px #CCC;
	    z-index: 10;
	}
	span {
    	font-family: Calibri;
    }

	.scombobox-list p:hover, .scombobox-list p.scombobox-hovered {
	    background-color: #FFF;
	}
	.st0{
	fill:#EEE;
	filter: drop-shadow(0px 0px 10px rgba(0,0,0,1));
	transform-origin: 960px 540px;
	transform:scale(1);
	}
	.plate{
	transform-origin: 960px 540px;
	transform:scale(1);
	}
	rect{
		fill:#FFF;
		opacity:.5;
	}
	.plateimage {
		transform-origin: 960px 540px;
	}

</style>
</head>
<body>
<div class="background">
<div class="white">
</div>
<div style="overflow:hidden; position: absolute; top: 0px; left:0px; bottom: 0px; right: 0px">
<span id="animMarker"></span>
<div class="input">
<select id="main">
		<option value="eorith" image="images/eorith.jpg">Eorith</option>
	    <option value="lafeyette">La Feyette</option>
	    <option value="maps">Maps</option>
</select>
</div>
</div>
</body>

<svg display="none" version="1.1" id="eorithanim" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 1920 1080" style="enable-background:new 0 0 1920 1080;" xml:space="preserve">
<g class="plate" delay="6">
<rect x="0" y="0" width="1920" height="1080"/>
<image class="plateimage" xlink:href="images/Plate6.png" x="0" y="0" width="1920" height="1080"/>
</g>
<g class="plate" delay="5">
<rect x="0" y="0" width="1920" height="1080"/>
<image class="plateimage" xlink:href="images/Plate5.png" x="0" y="0" width="1920" height="1080"/>
</g>
<g class="plate" delay="4">
<rect x="0" y="0" width="1920" height="1080"/>
<image class="plateimage" xlink:href="images/Plate4.png" x="0" y="0" width="1920" height="1080"/>
</g>
<g class="plate" delay="3">
<rect x="0" y="0" width="1920" height="1080"/>
<image class="plateimage" xlink:href="images/Plate3.png" x="0" y="0" width="1920" height="1080"/>
</g>
<g class="plate" delay="2">
<rect x="0" y="0" width="1920" height="1080"/>
<image class="plateimage" xlink:href="images/Plate2.png" x="0" y="0" width="1920" height="1080"/>
</g>
<g class="plate" delay="1">
<rect x="0" y="0" width="1920" height="1080"/>
<image class="plateimage" xlink:href="images/Plate1.png" x="0" y="0" width="1920" height="1080"/>
</g>
</svg>

<script type="text/javascript">
$('#main').scombobox({
    showDropDown: false
});
$('input').val('');
$('input').change(function(){
	web = $(this).val();
	back = $('[value="'+web+'"]').attr('image');
	console.log(back);
var animation = $('#eorithanim');
var aMarker = $('#animMarker');
aMarker.insertAfter(animation);
animation.show();

// $('body').css("background-image", "url("+back+")");
$('div.white').delay(2000).animate({opacity: 0.0},2000);
$('input').animate({opacity: 0},2000);
$(this).queue(animationRun());
$('input').delay(10000).queue(function(){
	window.location.href = web+".html";
});
})
	// $('a').click(function(){$('a').after(
	// abc.content
	// );});
	function animationRun(){
	console.log("start");
	$('.plate').each(function(){
	var delayTime = 5000+(200*$(this).attr('delay'));	
	// var shade = parseInt((.95+(((delayTime-200)/2250))*.05)*255);
	// console.log(shade);
	// var shading = "rgb(" + shade + "," + shade + "," + shade + ")";
	// var shadow = (((delayTime-5000)/2000)*30)-15;
	// var shadowing = "drop-shadow(0px 0px "+shadow+"px rgba(0,0,0,.15))";
	// $(this).css("fill",shading);
	// $(this).css("filter" , shadowing);

	// $(this).delay(delayTime).animate({transform:"scale(10) translateY(0)", opacity:0},5000,"easeInExpo");
	$(this).children('image').delay(delayTime).animate({transform:"scale(5) translateY(0)"},2500,"easeInExpo");
	$(this).children('rect').delay(delayTime).animate({opacity: 0},2500,"swing");
	});
	}
</script>
</html>
