<!DOCTYPE html>
<meta charset="UTF-8"> 
<html>
<script src="javascripts/jquery-2.2.0.min.js"></script>
<script src="javascripts/jquery-ui.min.js"></script>
<script src="javascripts/jquery.transform.js"></script>
<script src="javascripts/jquery.scombobox.js"></script>
<script type="text/javascript">
	var importList = ['abc'];
			$.each(importList,function(y,z){
			$.ajax({
			  url:"data/"+z+".json",
			  beforeSend: function(xhr){
			    if (xhr.overrideMimeType){xhr.overrideMimeType("application/json");}},
			  type:"GET",
			  dataType:"json",
			  cache:false,
			  error: function(a,b,c){console.log(a+b+c);}
			}).done(function(data){
				console.log("loaded: "+z+".json");
				window[z] = data;
			});
		});
</script>
<link rel="prefetch-dns" href="eorith.html"> 
<head>
<link rel="stylesheet" type="text/css" href="css/jquery.scombobox.css">
<style type="text/css">
	body{
		margin:0px;
		padding:0px;
		background: #FFF;
		background-repeat: no-repeat;
		/*background-position: center;*/
		background-size: cover;
		font-size: 18px;
	    overflow: hidden;
	}
	div.front{
		position: absolute;
		background: #999;
		opacity:0.5;
		top:0px;
		bottom:0px;
		left:0px;
		right:0px;
		padding:50px;
		}
	h1,a{
		margin:0px;
		text-align: center;
	}
	div.background{
		position: absolute;
		top:0px;
		bottom:0px;
		width:100%;
		background-repeat: no-repeat;
	}
	div#parent{
		position: absolute;
		top:0px;
		bottom:0px;
		width:100%;
		background:#F00;
		line-height: 100px;
	}
	div.input{
		position: absolute;
		top: 50%;
		left:50%;
		transform: translate(-50%,-50%);
		width:300px;
		height:50px;
		text-align: center;
		z-index: 5;
	}
	div.white{
		position: absolute;
		top: 0px;
		left:0px;
		bottom: 0px;
		right: 0px;
		background: #fff;
		z-index: 0;
	}
	.scombobox-display{
		text-align: center;
		font-size: 16px;
		border:none;
		border-radius: 0px;
		box-shadow: 0px 0px 20px #000;
	}
	.scombobox-display:focus {
	  	box-shadow: 0px 0px 20px #000;
	    outline: none;
	}
	.scombobox-list {
	    display: none;
	    position: absolute;
	    max-height: 400px;
	    min-width: 100%;
	    max-width: 300%;
	    white-space: nowrap;
	    box-sizing: border-box;
	    -moz-box-sizing: border-box;
	    overflow-y: auto;
	    background: white;
	    border: 1px solid #FFF;
	    border-top: none; /* instead of margin-top: -1px */
	    border-radius: 0px;
	    box-shadow: 0 0 5px #CCC;
	    z-index: 10;
	}
	span {
    	font-family: Calibri;
    }

	.scombobox-list p:hover, .scombobox-list p.scombobox-hovered {
	    background-color: #FFF;
	}
	.st0{
	fill:#EEE;
	filter: drop-shadow(0px 0px 10px rgba(0,0,0,1));
	transform-origin: 960px 540px;
	transform:scale(1);
	}
	.plate{
	transform-origin: 960px 540px;
	transform:scale(1);
	}
	rect{
		fill:#FFF;
		opacity:.3;
	}

</style>
</head>
<body>
<div class="background">
<div class="white">
</div>
<div style="overflow:hidden; position: absolute; top: 0px; left:0px; bottom: 0px; right: 0px">
<span id="animMarker"></span>
<div class="input">
<select id="main">
		<option value="eorith" image="images/eorith.jpg">Eorith</option>
	    <option value="lafeyette">La Feyette</option>
	    <option value="maps">Maps</option>
</select>
</div>
</div>
</body>

<svg display="none" version="1.1" id="eorithanim" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 1920 1080" style="enable-background:new 0 0 1920 1080;" xml:space="preserve">
<g class="plate" delay="10">
<rect x="0" y="0" width="1920" height="1080"/>
<circle delay="10" class="st0" cx="517" cy="273" r="122"/>
</g>
<g class="plate" delay="9">
<rect x="0" y="0" width="1920" height="1080"/>
<circle delay="9" class="st0" cx="420" cy="190" r="63"/>
</g>
<g class="plate" delay="3">
<rect x="0" y="0" width="1920" height="1080"/>
<polygon delay="3" class="st0" points="-219,970 483,887 835,719 985,597 1059,597 1157,733 1449,859 2341,970 2341,1169 1181,1229 -127,1163 "/>
</g>
<g class="plate" delay="2">
<rect x="0" y="0" width="1920" height="1080"/>
<polygon delay="2" class="st0" points="2120,903 2120,803 2083,803 2083,889 2043,889 2043,841 2007,841 2007,903 1950,903 1950,880 1913,880 1913,896 1869,896 1869,817 1803,817 1803,874 1743,874 1743,803 1694,803 1694,867 1630,867 1630,839 1598,839 1598,895 1499,895 1499,738 1434,738 1434,903 1297,903 1297,788 1233,788 1233,897 1169,897 1169,850 1115,850 1115,903 960,903 805,903 805,850 751,850 751,897 687,897 687,788 623,788 623,903 486,903 486,738 421,738 421,895 322,895 322,839 290,839 290,867 226,867 226,803 177,803 177,874 117,874 117,817 51,817 51,896 7,896 7,880 -30,880 -30,903 -87,903 -87,841 -123,841 -123,889 -163,889 -163,803 -200,803 -200,903 -457,903 -457,1298 960,1300 2377,1298 2377,903 "/>
</g>
<g class="plate" delay="1">
<rect x="0" y="0" width="1920" height="1080"/>
<polygon delay="1" class="st0" points="-87,894 291,894 291,748 345,748 345,874 403,874 403,804 457,804 457,894 541,894 541,860 595,860 595,884 659,884 659,768 757,768 757,852 845,852 845,748 916,748 916,842 1011,842 1011,800 1057,800 1057,882 1203,882 1203,652 1299,652 1299,894 1499,894 1499,726 1593,726 1593,886 1687,886 1687,816 1767,816 1767,894 1995,894 1995,1103 -87,1103 "/>
</g>
</svg>

<script type="text/javascript">
$('#main').scombobox({
    showDropDown: false
});
$('input').val('');
$('input').change(function(){
	web = $(this).val();
	back = $('[value="'+web+'"]').attr('image');
	console.log(back);
var animation = $('#eorithanim');
var aMarker = $('#animMarker');
aMarker.insertAfter(animation);
animation.show();

// $('body').css("background-image", "url("+back+")");
$('div.white').delay(2000).animate({opacity: .5},2000);
$('input').animate({opacity: 0},2000);
$(this).queue(animationRun());
$('input').delay(10000).queue(function(){
	window.location.href = web+".html";
});
})
	// $('a').click(function(){$('a').after(
	// abc.content
	// );});
	function animationRun(){
		console.log("start");
	$('.plate').each(function(){
	var delayTime = 5000+(200*$(this).attr('delay'));	
	// var shade = parseInt((.95+(((delayTime-200)/2250))*.05)*255);
	// console.log(shade);
	// var shading = "rgb(" + shade + "," + shade + "," + shade + ")";
	// var shadow = (((delayTime-5000)/2000)*30)-15;
	// var shadowing = "drop-shadow(0px 0px "+shadow+"px rgba(0,0,0,.15))";
	// $(this).css("fill",shading);
	// $(this).css("filter" , shadowing);

	$(this).delay(delayTime).animate({transform:"scale(10) translateY(500)", opacity:0},5000,"easeInExpo");
	});
	}
</script>
</html>
